name: Deploy Manifests

on:
  push:
    branches: [develop, main]

env:
  GKE_PROJECT: ${{ secrets.GKE_PROJECT }}
  GKE_SA_KEY: ${{ secrets.GKE_SA_KEY }}
  GKE_CLUSTER: ${{ secrets.GKE_CLUSTER }}
  GKE_ZONE: ${{ secrets.GKE_ZONE }}

jobs:
  setup-build-publish-deploy:
    name: Deploy Manifests
    runs-on: ubuntu-latest
    environment: development
    
    steps:
      - name: Deploy
        run: |-
          echo: ${{  github.base_ref == 'refs/heads/develop' && 'development' || 'staging' }}
          echo: ${{  github.base_ref }}
          echo: ${{  github.head_ref }}
